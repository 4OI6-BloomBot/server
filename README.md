# BloomBot Server


## About
BloomBot Server manages the data generated by the BloomBot buoy. 

## Development
### Setup
[Install](https://realpython.com/installing-python/) Python and pip, then install Django and the required packages.

```python
python -m pip install django
python -m pip install -r requirements.txt
```

[Install](https://www.postgresql.org/download/) PostgreSQL.
You will also have to create the user and database in PostgreSQL for Django. Steps for this can be found [here](https://djangocentral.com/using-postgresql-with-django/).

### Working
Django has a built-in development server. After starting the server, navigate to [localhost:8000](http://localhost:8000) in your browser. More information on the limitations of the dev server can be found [here](https://docs.djangoproject.com/en/4.2/intro/tutorial01/#the-development-server).

```python
python manage.py runserver
```

## Deployment
The server can be deployed with the provided Docker Compose configuration. Instructions on installing Docker and Docker Compose can be found [here](https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-compose-on-ubuntu-22-04).

### Environment Variables
An environment file should be provided in the root directory to properly configure the containers. An example is included in the repo as [.env_example](.env_example).

### Building
To build with the provided Docker Compose configuration, run the following:
```
docker compose -f docker-compose.yml up -d --build
```

To test changes to the project without leaving the containers deployed, remove the `-d` flag
 

## Changes
The main branch is protected from direct writes, ideally create a new branch to work in then merge it in with a pull request when ready.

If new packages are required, updated the requirements.txt file using pipreqs:

```python
pipreqs > requirements.txt --force
```